<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Java Concurrency with Barbershop Problem</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preload" href="/assets/css/app.css?v=b36b0218e7" as="style" />
    <link rel="preload" href="/assets/js/manifest.js?v=b36b0218e7" as="script" />
    <link rel="preload" href="/assets/js/vendor/content-api.min.js?v=b36b0218e7" as="script" />
    <link rel="preload" href="/assets/js/vendor.js?v=b36b0218e7" as="script" />
    <link rel="preload" href="/assets/js/app.js?v=b36b0218e7" as="script" />

      <link rel="preload" href="/assets/css/post.css?v=b36b0218e7" as="style" />
  <link rel="preload" href="/assets/js/post.js?v=b36b0218e7" as="script" />


    <style>
      /* These font-faces are here to make fonts work if the Ghost instance is installed in a subdirectory */

      /* source-sans-pro-regular */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local('SourceSansPro-Regular'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff2?v=b36b0218e7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff?v=b36b0218e7") format('woff');
      }

      /* source-sans-pro-600 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: local('SourceSansPro-SemiBold'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff2?v=b36b0218e7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff?v=b36b0218e7") format('woff');
      }

      /* source-sans-pro-700 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: local('SourceSansPro-Bold'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff2?v=b36b0218e7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff?v=b36b0218e7") format('woff');
      }

      /* iconmoon */
      @font-face {
        font-family: 'icomoon';
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        src: url("/assets/fonts/icomoon/icomoon.eot?101fc3?v=b36b0218e7");
        src: url("/assets/fonts/icomoon/icomoon.eot?101fc3?v=b36b0218e7#iefix") format('embedded-opentype'),
        url("/assets/fonts/icomoon/icomoon.ttf?101fc3?v=b36b0218e7") format('truetype'),
        url("/assets/fonts/icomoon/icomoon.woff?101fc3?v=b36b0218e7") format('woff'),
        url("/assets/fonts/icomoon/icomoon.svg?101fc3?v=b36b0218e7#icomoon") format('svg');
      }
    </style>

    <link rel="stylesheet" type="text/css" href="/assets/css/app.css?v=b36b0218e7" media="screen" />

      <link rel="stylesheet" type="text/css" href="/assets/css/post.css?v=b36b0218e7" media="screen" />




    <meta name="description" content="Barbershop (Sleeping Barber) problem implementation. Java concurrency and synchronisation problem example">
    <link rel="icon" href="https://turkogluc.com/content/images/size/w256h256/2020/05/64x64.png" type="image/png">
    <link rel="canonical" href="https://turkogluc.com/java-concurrency-sleeping-barber/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://turkogluc.com/java-concurrency-sleeping-barber/amp/">

    <meta property="og:site_name" content="Cemal Turkoglu">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Java Concurrency with Barbershop Problem">
    <meta property="og:description" content="Barbershop Problem aka. Sleeping Barber problem implementation, java concurrency and synchronisation problem example">
    <meta property="og:url" content="https://turkogluc.com/java-concurrency-sleeping-barber/">
    <meta property="og:image" content="https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;2000&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ">
    <meta property="article:published_time" content="2020-05-29T22:16:48.000Z">
    <meta property="article:modified_time" content="2020-05-29T22:26:51.000Z">
    <meta property="article:tag" content="Java">
    <meta property="article:tag" content="Concurrency">

    <meta property="article:publisher" content="https://www.facebook.com/ghost">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Java Concurrency with Barbershop Problem">
    <meta name="twitter:description" content="Barbershop Problem aka. Sleeping Barber problem implementation, java concurrency and synchronisation problem example">
    <meta name="twitter:url" content="https://turkogluc.com/java-concurrency-sleeping-barber/">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;w&#x3D;2000&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Cemal Turkoglu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Java, Concurrency">
    <meta name="twitter:site" content="@turkoglu4c">
    <meta property="og:image:width" content="2000">
    <meta property="og:image:height" content="1328">

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Cemal Turkoglu",
        "url": "https://turkogluc.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://static.ghost.org/v1.0.0/images/ghost-logo.svg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Cemal Turkoglu",
        "url": "https://turkogluc.com/author/cemal/",
        "sameAs": []
    },
    "headline": "Java Concurrency with Barbershop Problem",
    "url": "https://turkogluc.com/java-concurrency-sleeping-barber/",
    "datePublished": "2020-05-29T22:16:48.000Z",
    "dateModified": "2020-05-29T22:26:51.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ",
        "width": 2000,
        "height": 1328
    },
    "keywords": "Java, Concurrency",
    "description": "Barbershop Problem aka. Sleeping Barber problem implementation, java concurrency and synchronisation problem example",
    "mainEntityOfPage": "https://turkogluc.com/java-concurrency-sleeping-barber/"
}
    </script>

    <meta name="generator" content="Ghost 5.49">
    <link rel="alternate" type="application/rss+xml" title="Cemal Turkoglu" href="https://turkogluc.com/rss/">
    <script defer src="https://cdn.jsdelivr.net/ghost/portal@~2.32/umd/portal.min.js" data-i18n="false" data-ghost="https://turkogluc.com/" data-key="8aed1ac6d3b2be60cf4aedf769" data-api="https://turkogluc.com/ghost/api/content/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="8aed1ac6d3b2be60cf4aedf769" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://turkogluc.com/" crossorigin="anonymous"></script>

    <link href="https://turkogluc.com/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=b36b0218e7"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=b36b0218e7">
    <script defer src="/public/member-attribution.min.js?v=b36b0218e7"></script>
    <!--
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/idea.min.css" integrity="sha512-jxbAYisMjIOokHq0YnYxWqTUfJRe8s1U2F1lp+se3vv0CS8floaFL3Mc3GEpG3HCG2s6lxHb3QvQdmUOT1ZzKw==" crossorigin="anonymous" />

<style>
   .l-post-content pre>code {
    white-space:inherit
  }
  pre[class*="language-"] {
    margin: 0 0 1.5em !important;
  }
  code {
    text-shadow: none !important;
  }
  .token.operator {
    background: none !important;
  }
  :not(pre) > code[class*="language-"],
  pre[class*="language-"] {
    background: #20262E !important;
  }

</style>

<!-- prism.js -->
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css" />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-okaidia.min.css" />
<!--
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-tomorrow.min.css" />
-->
<style>
  pre[class*="language-"] {
    margin: 0 0 1.5em !important;
  }
  code {
    text-shadow: none !important;
  }
  .token.operator {
    background: none !important;
  }
  :not(pre) > code[class*="language-"],
  pre[class*="language-"] {
    background: #20262E !important;
  }
</style>


<!--
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism-tomorrow.min.css" integrity="sha256-xevuwyBEb2ZYh4nDhj0g3Z/rDBnM569hg9Vq6gEw/Sg=" crossorigin="anonymous" />
-->
<style>:root {--ghost-accent-color: #FF1A75;}</style>

    <style>
      :root {
        --primary-subtle-color: var(--ghost-accent-color) !important;
      }
    </style>

    <script>
      // @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
      const ghostHost = "https://turkogluc.com"
      // @license-end
    </script>

  </head>
  <body class="post-template tag-java tag-concurrency tag-hash-import-2023-05-25-09-05">





<header class="m-header with-picture js-header">
  <div class="m-mobile-topbar" data-aos="fade-down">
    <button class="m-icon-button in-mobile-topbar js-open-menu" aria-label="Open menu">
      <span class="icon-menu" aria-hidden="true"></span>
    </button>
      <a href="https://turkogluc.com" class="m-logo in-mobile-topbar">
        <img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="Cemal Turkoglu" class="">
      </a>
    <button class="m-icon-button in-mobile-topbar js-open-search" aria-label="Open search">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
  </div>

  <div class="m-menu js-menu">
    <button class="m-icon-button outlined as-close-menu js-close-menu" aria-label="Close menu">
      <span class="icon-close"></span>
    </button>
    <div class="m-menu__main" data-aos="fade-down">
      <div class="l-wrapper">
        <div class="m-nav js-main-nav">
          <nav class="m-nav__left js-main-nav-left" role="navigation" aria-label="Main menu">
            <ul>
                <li class="only-desktop">
                  <a href="https://turkogluc.com" class="m-logo">
                    <img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="Cemal Turkoglu" class="">
                  </a>
                </li>

    <li class="nav-home">
      <a href="https://turkogluc.com/">Home</a>
    </li>
    <li class="nav-spring">
      <a href="https://turkogluc.com/tag/spring/">Spring</a>
    </li>
    <li class="nav-kafka">
      <a href="https://turkogluc.com/tag/apache-kafka/">Kafka</a>
    </li>
    <li class="nav-java">
      <a href="https://turkogluc.com/tag/java/">Java</a>
    </li>
    <li class="nav-jenkins">
      <a href="https://turkogluc.com/tag/jenkins/">Jenkins</a>
    </li>
    <li class="nav-react">
      <a href="https://turkogluc.com/tag/react/">React</a>
    </li>

              <li class="submenu-option js-submenu-option">
                <button class="m-icon-button in-menu-main more js-toggle-submenu" aria-label="Open submenu">
                  <span class="icon-more" aria-hidden="true"></span>
                </button>
                <div class="m-submenu js-submenu">
                  <div class="l-wrapper in-submenu">
                    <section class="m-recent-articles">
                      <h3 class="m-submenu-title in-recent-articles">Recent articles</h3>
                          <div class="swiper js-recent-slider">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                  <a href="/centralised-logging-and-monitoring-with-elastic-stack/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2022/02/5ad917357c0c50d0337ce7773184d0ed.png" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Centralized Logging and Monitoring with Elastic Stack">
                                      Centralized Logging and Monitoring with Elastic Stack
                                    </h3>
                                    <span class="m-recent-article__date">a year ago</span>
                                  </a>
                                </div>
                                <div class="swiper-slide">
                                  <a href="/sql-window-functions/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="https://images.unsplash.com/photo-1586227740560-8cf2732c1531?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;MnwxMTc3M3wxfDF8YWxsfDF8fHx8fHwyfHwxNjM0OTg5MzQ0&amp;ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;w&#x3D;300" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="SQL Window Functions Introduction">
                                      SQL Window Functions Introduction
                                    </h3>
                                    <span class="m-recent-article__date">2 years ago</span>
                                  </a>
                                </div>
                                <div class="swiper-slide">
                                  <a href="/server-sent-events-with-spring-boot-and-reactjs/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2021/01/Blank-diagram--1--1.png" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Server Sent Events with Spring Boot and ReactJS">
                                      Server Sent Events with Spring Boot and ReactJS
                                    </h3>
                                    <span class="m-recent-article__date">2 years ago</span>
                                  </a>
                                </div>
                                <div class="swiper-slide">
                                  <a href="/java-creating-pdf-reports-with-itext/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="https://images.unsplash.com/photo-1542216172-f356fdd22653?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;300" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Creating PDF Reports with iText 7 in Java">
                                      Creating PDF Reports with iText 7 in Java
                                    </h3>
                                    <span class="m-recent-article__date">2 years ago</span>
                                  </a>
                                </div>
                            </div>
                          </div>
                    </section>
                    <section class="m-tags">
                      <h3 class="m-submenu-title">Tags</h3>
                        <ul>
                            <li>
                              <a href="/tag/aop/">AOP</a>
                            </li>
                            <li>
                              <a href="/tag/apache-kafka/">Apache Kafka</a>
                            </li>
                            <li>
                              <a href="/tag/concurrency/">Concurrency</a>
                            </li>
                            <li>
                              <a href="/tag/devops/">devops</a>
                            </li>
                            <li>
                              <a href="/tag/docker/">docker</a>
                            </li>
                            <li>
                              <a href="/tag/elasticsearch/">Elasticsearch</a>
                            </li>
                            <li>
                              <a href="/tag/event-handling/">Event Handling</a>
                            </li>
                            <li>
                              <a href="/tag/java/">Java</a>
                            </li>
                            <li>
                              <a href="/tag/jenkins/">Jenkins</a>
                            </li>
                        </ul>
                    </section>
                  </div>
                </div>
              </li>
            </ul>
          </nav>
          <div class="m-nav__right">
            <button class="m-icon-button in-menu-main js-open-search" aria-label="Open search">
              <span class="icon-search" aria-hidden="true"></span>
            </button>
            <div class="m-toggle-darkmode js-tooltip" data-tippy-content="Toggle light/dark mode" tabindex="0">
              <label for="toggle-darkmode" class="sr-only">
                Toggle light/dark mode
              </label>
              <input id="toggle-darkmode" type="checkbox" class="js-toggle-darkmode">
              <div>
                <span class="icon-moon moon" aria-hidden="true"></span>
                <span class="icon-sunny sun" aria-hidden="true"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</header>

<main class="main-wrap">

  <section class="m-hero with-picture" data-aos="fade">
    <div class="m-hero__picture in-post">
      <img
        srcset="
          https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;300 300w,
          https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;600 600w,
          https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;1000 1000w,
          https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;2000 2000w
        "
        sizes="(max-width: 600px) 600px, (max-width: 1000px) 1000px, 2000px"
        src="https://images.unsplash.com/photo-1585747860715-2ba37e788b70?ixlib&#x3D;rb-1.2.1&amp;q&#x3D;80&amp;fm&#x3D;jpg&amp;crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;ixid&#x3D;eyJhcHBfaWQiOjExNzczfQ&amp;w&#x3D;1000"
        alt=""
      />
    </div>
    </section>

  <article>
    <div class="l-content in-post">
        <div class="l-wrapper in-post  js-aos-wrapper" data-aos="fade-up"
          data-aos-delay="300">
          <div
            class="l-post-content js-progress-content">
            <header class="m-heading">
              <h1 class="m-heading__title in-post">Java Concurrency with Barbershop Problem</h1>
              <div class="m-heading__meta">
                  <a href="https://turkogluc.com/tag/java/" class="m-heading__meta__tag">Java</a>
                  <span class="m-heading__meta__divider" aria-hidden="true">&bull;</span>
                <span class="m-heading__meta__time">May 30, 2020</span>
              </div>
            </header>
            <div class="pos-relative js-post-content">
              <div class="m-share">
                <div class="m-share__content js-sticky">
                  <a href="https://www.facebook.com/sharer/sharer.php?u=https://turkogluc.com/java-concurrency-sleeping-barber/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Facebook">
                    <span class="icon-facebook" aria-hidden="true"></span>
                  </a>
                  <a href="https://twitter.com/intent/tweet?text=Java%20Concurrency%20with%20Barbershop%20Problem&url=https://turkogluc.com/java-concurrency-sleeping-barber/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Twitter">
                    <span class="icon-twitter" aria-hidden="true"></span>
                  </a>
                  <button class="m-icon-button filled in-share progress js-scrolltop" aria-label="Scroll to top">
                    <span class="icon-arrow-top" aria-hidden="true"></span>
                    <svg aria-hidden="true">
                      <circle class="progress-ring__circle js-progress" fill="transparent" r="0" />
                    </svg>
                  </button>
                </div>
              </div>
              <p>Barbershop Problem aka. Sleeping Barber problem is another classical concurrency example used in operating system lectures. The original <a href="https://en.wikipedia.org/wiki/Sleeping_barber_problem?ref=localhost">problem</a> was proposed by <a href="https://en.wikipedia.org/wiki/Edsger_Dijkstra?ref=localhost">Edsger Dijkstra</a>. </p><h3 id="problem-definition">Problem Definition</h3><p>A barbershop consist of a waiting room with n chairs, and a barber room with one barber chair. Given the following constraints:</p><ul><li>If there are no customers to be served, the barber goes to sleep</li><li>If a customer enters the barbershop and all chairs are occupied, then the customer leaves the shop.</li><li>If the barber is busy, but chairs are available, then the customer sits in one of the free chairs.</li><li>If the barber is sleeping, the customer wakes up the barber.</li></ul><p>We need to write a program simulating the barbershop. Our goal is to provide coordination between customers and the barber by complying the above constraints. Our solution will use <code>Rendezvous</code> pattern.</p><p><code><strong>Rendezvouses</strong></code>: It is a special barrier type. Barrier works for multiple parties but Rendezvous is done between 2 threads. Thread A has to wait for Thread B and vice versa. So it works both ways.</p><p>In other words, given this code</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://turkogluc.com/content/images/2020/05/Screenshot-2020-05-30-at-00.09.51.png" class="kg-image" alt loading="lazy"><figcaption>Rendezvouses synchronisation</figcaption></figure><p>We want to guarantee that a1 happens before b2 and b1 happens before a2. So they do have a synchronisation to work at a specific parts of their codes at same time.</p><p>To provide this guarantee, the following solution is proposed:</p><figure class="kg-card kg-image-card"><img src="https://turkogluc.com/content/images/2020/05/Screenshot-2020-05-30-at-00.14.03.png" class="kg-image" alt loading="lazy"></figure><p>So they both signal each other and wait for each other. And we make sure that the given condition is satisfied.</p><h3 id="overview">Overview</h3><p>We can use the following variables for synchronisation and mutual exclusion. </p><pre><code>limit=4									# limit for total number of customer
customers = 0						# customer counter
mutex = new ReenterantLock()		# mutex to protect customer counter
customerReady = new Semaphore(0)		# barber waits on customerReady
barberReady = new Semaphore(0)		# customer waits on barberReady
customerDone = new Semaphore(0)		# customer signals haircut is done
barberDone = new Semaphore(0)		# barber signals haircut is done</code></pre><p><code>limit</code> is the total number of customers that can be in the shop. <code>customers</code> counts the number of customers in the shop; it will be protected by <code>mutex</code>.</p><p>The barber waits on <code>customerReady</code> until a customer enters the shop, then the customer waits on <code>barberReady</code> until the barber signals him that it is his turn.</p><p>After the haircut, the customer signals <code>customerDone</code> and waits on <code>barberDone</code>. These 2 semaphores will be used as rendezvous sync to make both customer and barber to arrive end of haircut part together.</p><h3 id="implementation">Implementation</h3><p>We will have the customer and barber individuals providing service or receiving service as follows:</p><pre><code class="language-java">public class Barber {

    public void cutHair() {
        System.out.println("Barber: Cutting Hair --- " + Thread.currentThread().getName());
    }
}


public class Customer {

    public void enter() {
        System.out.println("Customer: Enters the shop --- " + Thread.currentThread().getName());
    }

    public void getHairCut() {
        System.out.println("Customer: Getting Haircut --- " + Thread.currentThread().getName());
    }

    public void leave() {
        System.out.println("Customer: Leaves the shop --- " + Thread.currentThread().getName());
    }
}

</code></pre><p>Barbershop class is responsible for coordinating the synchronisation between customers and barber. Our implementation is going to have 2 methods:</p><p>The method <code>startService</code> does respectively:</p><ul><li>Waits for a customer to arrive (a signal that customer is ready)</li><li>Signals that barber is read to start</li><li>Give haircut</li><li>Wait for customer to approve</li><li>Signals that barber is done</li></ul><p>The method <code>receiveNewCustomer</code> does respectively</p><ul><li>Accept customer unless the limit is reached</li><li>Signal that customer is ready to be served</li><li>Wait for barber to be available</li><li>Get haircut</li><li>Signal that customer is done</li><li>Wait for barber to approve</li></ul><figure class="kg-card kg-code-card"><pre><code class="language-java">public class Barbershop {

    private final int limit;
    public int customers;
    private final Barber barber;

    private final Semaphore customerReady;
    private final Semaphore barberReady;

    private final Semaphore customerDone;
    private final Semaphore barberDone;

    private final ReentrantLock mutex;

    public Barbershop(int limit) {
        this.limit = limit;
        customers = 0;

        customerReady = new Semaphore(0);
        barberReady = new Semaphore(0);

        customerDone = new Semaphore(0);
        barberDone = new Semaphore(0);

        mutex = new ReentrantLock();

        barber = new Barber();
    }

    public Void startService() {

        // wait for a customer to arrive
        try {
            customerReady.acquire();
        } catch (InterruptedException e) {
            System.out.println("Barber wait task is interrupted: " + e.getMessage());
        }

        // signal that barber is ready
        barberReady.release();

        // give a haircut
        barber.cutHair();


        // wait for a customer to approve done
        try {
            customerDone.acquire();
        } catch (InterruptedException e) {
            System.out.println("Barber wait task is interrupted: " + e.getMessage());
        }
        // signal the customer that barber is done
        barberDone.release();
        System.out.println("Haircut is done");
        return null;
    }

    public Void receiveNewCustomer() {

        Customer customer = new Customer();

        customer.enter();

        mutex.lock();
        if (customers == limit) {
            mutex.unlock();
            customer.leave();
            return null;
        }
        customers += 1;
        mutex.unlock();

        customerReady.release();

        // wait for the barber to be available
        try {
            barberReady.acquire();
        } catch (InterruptedException e) {
            System.out.println("Customer wait task is interrupted: " + e.getMessage());
        }

        // get the haircut
        customer.getHairCut();

        // signal that customer is done
        customerDone.release();

        // wait for barber to approve done
        try {
            barberDone.acquire();
        } catch (InterruptedException e) {
            System.out.println("Customer wait task is interrupted: " + e.getMessage());
        }

        mutex.lock();
        customers -= 1;
        mutex.unlock();

        return null;
    }

}</code></pre><figcaption>Barbershop.java</figcaption></figure><p>Our solution contains 2 <code>Rendezvouses</code> synchronisation pattern first one with <code>customerReady</code> and <code>barberReady</code>, second one with <code>customerDone</code> and <code>barberDone</code> semaphores. We could alternatively use a barrier here to justify that barber will not start to work on another customer before the current one will leave. So we try to make these 2 threads to finish at the same time.</p><h3 id="sample-output">Sample Output</h3><p>In order to run the program in parallel thread we can use the following main method:</p><figure class="kg-card kg-code-card"><pre><code class="language-java">public class Simulator {

    private static final int NUM_ITERATION = 8;

    public static void main(String[] args) {

        ExecutorService executor = Executors.newWorkStealingPool();
        Barbershop barbershop = new Barbershop(4);


        Callable&lt;Void&gt; barbershopTask = barbershop::startService;
        Callable&lt;Void&gt; receiveCustomerTask = barbershop::receiveNewCustomer;

        List &lt;Future&lt;Void&gt;&gt; barberFutures = new ArrayList&lt;&gt;();
        List &lt;Future&lt;Void&gt;&gt; customerFutures = new ArrayList&lt;&gt;();


        for (int i=0; i&lt;NUM_ITERATION; i++) {
            Future &lt;Void&gt; barberFuture = executor.submit(barbershopTask);
            barberFutures.add(barberFuture);

            Future &lt;Void&gt; customerFuture = executor.submit(receiveCustomerTask);
            customerFutures.add(customerFuture);
        }

        barberFutures.forEach(future -&gt; {
            try {
                future.get();
            } catch (InterruptedException | ExecutionException e) {
                e.printStackTrace();
            }
        });

        customerFutures.forEach(future -&gt; {
            try {
                future.get();
            } catch (InterruptedException | ExecutionException e) {
                e.printStackTrace();
            }
        });

    }
}</code></pre><figcaption>Simulator.java</figcaption></figure><p>The output of the program:</p><pre><code>Customer: Enters the shop --- ForkJoinPool-1-worker-9
Customer: Enters the shop --- ForkJoinPool-1-worker-5
Customer: Enters the shop --- ForkJoinPool-1-worker-13
Customer: Enters the shop --- ForkJoinPool-1-worker-17
Barber: Cutting Hair --- ForkJoinPool-1-worker-27
Customer: Getting Haircut --- ForkJoinPool-1-worker-13
Barber: Cutting Hair --- ForkJoinPool-1-worker-3
Barber: Cutting Hair --- ForkJoinPool-1-worker-23
Customer: Getting Haircut --- ForkJoinPool-1-worker-17
Customer: Getting Haircut --- ForkJoinPool-1-worker-9
Barber: Cutting Hair --- ForkJoinPool-1-worker-19
Haircut is done
Haircut is done
Customer: Enters the shop --- ForkJoinPool-1-worker-25
Customer: Enters the shop --- ForkJoinPool-1-worker-21
Customer: Getting Haircut --- ForkJoinPool-1-worker-25
Customer: Getting Haircut --- ForkJoinPool-1-worker-21
Haircut is done
Customer: Getting Haircut --- ForkJoinPool-1-worker-5
Haircut is done
Barber: Cutting Hair --- ForkJoinPool-1-worker-7
Barber: Cutting Hair --- ForkJoinPool-1-worker-31
Customer: Enters the shop --- ForkJoinPool-1-worker-23
Customer: Enters the shop --- ForkJoinPool-1-worker-17
Customer: Getting Haircut --- ForkJoinPool-1-worker-23
Customer: Getting Haircut --- ForkJoinPool-1-worker-17
Barber: Cutting Hair --- ForkJoinPool-1-worker-13
Haircut is done
Haircut is done
Haircut is done
Barber: Cutting Hair --- ForkJoinPool-1-worker-9
Haircut is done</code></pre><h3 id="reference">Reference</h3><p>Allen B. Downey, The Little Book of Semaphores</p>
                <section class="m-tags in-post">
                  <h3 class="m-submenu-title">Tags</h3>
                  <ul>
                      <li>
                        <a href="/tag/java/" title="Java">Java</a>
                      </li>
                      <li>
                        <a href="/tag/concurrency/" title="Concurrency">Concurrency</a>
                      </li>
                  </ul>
                </section>
            </div>
          </div>
        </div>
          <section class="m-subscribe-section js-newsletter">
            <div class="l-wrapper in-post">
              <div class="m-subscribe-section__content">
                <div class="m-subscribe-section__text">
                  <h4 class="m-subscribe-section__title">Subscribe to our newsletter</h4>
                  <p class="m-subscribe-section__description">
                    Get the latest posts delivered right to your inbox.
                  </p>
                </div>
                <div class="m-subscribe-section__form">

<div class="m-subscribe-section__form">
  <form data-members-form="subscribe" id="newsletter-form" class="m-subscribe-section__container">
    <div class="m-subscribe__form">
      <div class="pos-relative">
        <label for="newsletter-input" class="sr-only">Your email address</label>
        <input data-members-email id="newsletter-input" class="m-input in-subscribe-section" type="email"
          placeholder="Your email address" required />
      </div>
      <button id="newsletter-button" class="m-button primary block" type="submit">Subscribe</button>
    </div>
    <div class="m-subscribe__success">
      <header class="m-heading no-margin">
        <img src="/assets/images/success.png?v=b36b0218e7" alt="Success!" class="m-subscribe__success_icon">
        <p class="m-heading__description in-newsletter-form">
          Now check your inbox and click the link to confirm your subscription.
        </p>
      </header>
    </div>
    <p class="m-subscribe__invalid m-small-text">
      Please enter a valid email address
    </p>
    <p class="m-subscribe__error m-small-text">
      Oops! There was an error sending the email, please try later.
    </p>
  </form>
</div>
                </div>
              </div>
            </div>
          </section>
        <section class="m-author">
          <div class="m-author__content">
            <div class="m-author__picture">
              <a href="https://turkogluc.com/author/cemal/" class="m-author-picture" aria-label="Cemal Turkoglu">
                  <div style="background-image: url(/assets/images/default-avatar-square-small.jpg?v=b36b0218e7);"></div>
              </a>
            </div>
            <div class="m-author__info">
              <h4 class="m-author__name">
                <a href="https://turkogluc.com/author/cemal/">Cemal Turkoglu</a>
              </h4>
              <ul class="m-author-links">
              </ul>
            </div>
          </div>
        </section>
            <section class="m-recommended">
              <div class="l-wrapper in-recommended">
                <h3 class="m-section-title in-recommended">Recommended for you</h3>
                <div class="m-recommended-articles">
                  <div class="m-recommended-slider swiper js-recommended-slider">
                    <div class="swiper-wrapper">

    <div class="m-recommended-slider__item swiper-slide">
  <article class="m-article-card  post tag-spring tag-react tag-event-handling tag-java tag-hash-import-2023-05-25-09-05">
    <div class="m-article-card__picture">
      <a href="/server-sent-events-with-spring-boot-and-reactjs/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2021/01/Blank-diagram--1--1.png" loading="lazy" alt="">
      <a href="https://turkogluc.com/author/cemal/" class="m-article-card__author js-tooltip" aria-label="Cemal Turkoglu" data-tippy-content="Posted by Cemal Turkoglu ">
          <div style="background-image: url(/assets/images/default-avatar-square-small.jpg?v=b36b0218e7);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="https://turkogluc.com/tag/spring/" class="m-article-card__tag">Spring</a>
      <a href="/server-sent-events-with-spring-boot-and-reactjs/" class="m-article-card__info-link" aria-label="Server Sent Events with Spring Boot and ReactJS">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Server Sent Events with Spring Boot and ReactJS">
            Server Sent Events with Spring Boot and ReactJS
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>2 years ago</span>
          <span>&bull;</span>
          <span>7 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item swiper-slide">
  <article class="m-article-card  post tag-elasticsearch tag-java tag-devops tag-hash-import-2023-05-25-09-05 featured">
    <div class="m-article-card__picture">
      <a href="/centralised-logging-and-monitoring-with-elastic-stack/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2022/02/5ad917357c0c50d0337ce7773184d0ed.png" loading="lazy" alt="">
      <a href="https://turkogluc.com/author/cemal/" class="m-article-card__author js-tooltip" aria-label="Cemal Turkoglu" data-tippy-content="Posted by Cemal Turkoglu ">
          <div style="background-image: url(/assets/images/default-avatar-square-small.jpg?v=b36b0218e7);"></div>
      </a>
        <a href="/centralised-logging-and-monitoring-with-elastic-stack/" class="m-article-card__featured js-tooltip" data-tippy-content="Featured" aria-label="Featured">
          <span class="icon-star" aria-hidden="true"></span>
        </a>
    </div>
      <div class="m-article-card__info">
        <a href="https://turkogluc.com/tag/elasticsearch/" class="m-article-card__tag">Elasticsearch</a>
      <a href="/centralised-logging-and-monitoring-with-elastic-stack/" class="m-article-card__info-link" aria-label="Centralized Logging and Monitoring with Elastic Stack">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Centralized Logging and Monitoring with Elastic Stack">
            Centralized Logging and Monitoring with Elastic Stack
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>a year ago</span>
          <span>&bull;</span>
          <span>8 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item swiper-slide">
  <article class="m-article-card  post tag-docker tag-react tag-spring tag-hash-import-2023-05-25-09-05">
    <div class="m-article-card__picture">
      <a href="/run-react-and-spring-docker-compose/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2020/09/docker-banner2.jpg" loading="lazy" alt="">
      <a href="https://turkogluc.com/author/cemal/" class="m-article-card__author js-tooltip" aria-label="Cemal Turkoglu" data-tippy-content="Posted by Cemal Turkoglu ">
          <div style="background-image: url(/assets/images/default-avatar-square-small.jpg?v=b36b0218e7);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="https://turkogluc.com/tag/docker/" class="m-article-card__tag">docker</a>
      <a href="/run-react-and-spring-docker-compose/" class="m-article-card__info-link" aria-label="Running ReactJS + Spring Boot Application with Docker Compose">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Running ReactJS + Spring Boot Application with Docker Compose">
            Running ReactJS + Spring Boot Application with Docker Compose
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>3 years ago</span>
          <span>&bull;</span>
          <span>2 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
                    </div>
                    <button class="m-icon-button filled in-recommended-articles swiper-button-prev" aria-label="Previous">
                      <span class="icon-arrow-left" aria-hidden="true"></span>
                    </button>
                    <button class="m-icon-button filled in-recommended-articles swiper-button-next" aria-label="Next">
                      <span class="icon-arrow-right" aria-hidden="true"></span>
                    </button>
                  </div>
                </div>
              </div>
            </section>
    </div>
  </article>
</main>




<div class="m-search js-search" role="dialog" aria-modal="true" aria-label="Search">
  <button class="m-icon-button outlined as-close-search js-close-search" aria-label="Close search">
    <span class="icon-close" aria-hidden="true"></span>
  </button>
  <div class="m-search__content">
    <form class="m-search__form">
      <div class="pos-relative">
        <span class="icon-search m-search-icon" aria-hidden="true"></span>
        <label for="search-input" class="sr-only">
          Type to search
        </label>
        <input id="search-input" type="text" class="m-input in-search js-input-search" placeholder="Type to search">
      </div>
    </form>
    <div class="js-search-results hide"></div>
    <p class="m-not-found align-center hide js-no-results">
      No results for your search, please try with something else.
    </p>
  </div>
</div>


<footer class="m-footer">
  <div class="m-footer__content">
    <nav class="m-footer-social">
        <a href="https://www.facebook.com/ghost" target="_blank" rel="noopener" aria-label="Facebook">
          <span class="icon-facebook" aria-hidden="true"></span>
        </a>
        <a href="https://twitter.com/turkoglu4c" target="_blank" rel="noopener" aria-label="Twitter">
          <span class="icon-twitter" aria-hidden="true"></span>
        </a>
      <a href="https://turkogluc.com/rss" aria-label="RSS">
        <span class="icon-rss" aria-hidden="true"></span>
      </a>
    </nav>
    <p class="m-footer-copyright">
      <span>Cemal Turkoglu &copy; 2023</span>
      <span>&nbsp; &bull; &nbsp;</span>
      <span>Published with <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a></span>
    </p>
    <p class="m-footer-copyright jslicense">
      <a href="/assets/html/javascript.html?v=b36b0218e7" rel="jslicense">JavaScript license information</a>
    </p>
  </div>
</footer>

    <script defer src="/assets/js/manifest.js?v=b36b0218e7"></script>
    <script defer src="/assets/js/vendor/content-api.min.js?v=b36b0218e7"></script>
    <script defer src="/assets/js/vendor.js?v=b36b0218e7"></script>
    <script defer src="/assets/js/app.js?v=b36b0218e7"></script>

      <script defer src="/assets/js/post.js?v=b36b0218e7"></script>


    <!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/java.min.js" integrity="sha512-YVNh+JI3AZyDUu/aGDh2vLgstb4kYs5U/WsTge2QQhU5fTsQLPFgX64gVAE/6qDSPUfpMGtG8M74uT3Y1SUU/w==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/javascript.min.js" integrity="sha512-QKMem5huKjrqi8ym4y9CvmmOvrimnBdRqEp269PoiENovcPr073iaXkoU8YPzGk+qJ4rNd4W/AatDTtB7uW52g==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/yaml.min.js" integrity="sha512-Rd5FUDZGJkdJ4Z/pZTgK+6QMWl0ubeugVNnXMK/QhiDxw5IMuYYxJOoPcof66vzvkpg0XjumgSvdaLOftzR5uQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/groovy.min.js" integrity="sha512-+Pin3A2zbWHySvtjP3FIddvwD7Fl1fLZA+rwlrQOUWzQTdJ9ycbPpqqlJSgfnngME/WDlugENmeglfQilO/CgQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/bash.min.js" integrity="sha512-VChHo3Iw9v3ZEvy8w2NFK62jJ27P7Y9N+uu94NwquvTSc/80oXBFnkK8Rk2z63rTwXHoJ9AiMbNbzLeB/BrryA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/json.min.js" integrity="sha512-FoN8JE+WWCdIGXAIT8KQXwpiavz0Mvjtfk7Rku3MDUNO0BDCiRMXAsSX+e+COFyZTcDb9HDgP+pM2RX12d4j+A==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/dockerfile.min.js" integrity="sha512-PkYx44XPGihIBrIcdSUHi9gVPtedxVU4MiAxcdH3kG1B1ZA/2UZLLXg84gLWoFojIC2srDBjoOxNrJKGINwELw==" crossorigin="anonymous"></script>

<script>hljs.initHighlightingOnLoad();</script>

<!-- prism.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-markup.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-java.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-groovy.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-json.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-docker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-sql.min.js"></script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166072389-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-166072389-1');
</script>
  </body>
</html>
